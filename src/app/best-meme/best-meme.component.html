<div class="spinner" *ngIf="loading">
  ... loading
</div>
<app-greetings></app-greetings>
<app-popular-subreddits (choose)="fetchSub($event, true)"></app-popular-subreddits>
<div class="select">
  <div [formGroup]="subredditChooser">
    <label for="subredditInput">Zeige die 25 besten Posts von /r/</label>
    <div class="wrap-input">
      <span *ngIf="!subExists && !suggestions.length">Subreddit existiert nicht</span>
      <input id="subredditInput" [placeholder]="currentSub" formControlName="subreddit" [class]="subExists ? 'valid' : 'invalid'" #subredditInput>
      <ul *ngIf="suggestions" class="suggestions" #sugs>
        <li *ngFor="let sug of suggestions.slice(page, page+10)" (click)="fetchSub(sug.name, true)">
          <span class="subscriber-count">{{sug.subscribers | shortNumber}}</span>
          <span *ngIf="sug.over18">ðŸ”ž</span>
          {{sug.name}}</li>
      </ul>
    </div>
  </div>
  <div>
    <button class="btn saved-subreddits" (click)="getNextSubreddit()" title="wechsle zu: r/{{nextSub}}">{{ nextSub }}</button>
    <button class="btn" (click)="optionsOverlay.classList.toggle('fullscreen')" disabled>Optionen</button>
  </div>
</div>
<div class="optionsOverlay toggle" (click)="hideOverlay($event)" #optionsOverlay>
  <div class="exit" (click)="optionsOverlay.classList.toggle('fullscreen')">x</div>
  <div class="wrapper">
    <form [formGroup]="postOptions" novalidate>
      <label for="a">Anzahl Posts</label>
      <input type="range" name="" id="a" value="25" min="1" max="100" formControlName="num_posts">
      <label for="sort">Sortieren nach:</label>
      <select name="sort" id="sort" formControlName="sort">
        <option value="top">Top</option>
        <option value="hot">Hot</option>
        <option value="new">New</option>
        <option value="rising">Rising</option>
      </select>
      <label for="time">Nur Posts der/des letzten</label>
      <select name="time" id="time" formControlName="time">
        <option value="hour">Stunde</option>
        <option value="day">Tages</option>
        <option value="week">Woche</option>
        <option value="month">Monat</option>
        <option value="all">Alle</option>
      </select>
      <label for="query">Posts nach query filtern:</label>
      <input type="text" name="query" id="query" formControlName="query">
    </form>
  </div>
</div>
<app-gallery [posts]="posts"></app-gallery>
